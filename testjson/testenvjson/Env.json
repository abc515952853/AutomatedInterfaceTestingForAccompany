{
    "env_version_case1": {
        "redis": [
            {
                "nodetype": "Hash",
                "nodeoperation": "Delete",
                "name": "epeiban:app:version",
                "key":"ios"
            },
            {
                "nodetype": "Hash",
                "nodeoperation": "Delete",
                "name": "epeiban:app:version",
                "key":"android"
            },
            {
                "nodetype": "Hash",
                "nodeoperation": "Add",
                "name": "epeiban:app:version",
                "key":"ios",
                "value":[
                    {
                        "@type": "com.qjf.epeiban.dao.entity.version.Version",
                        "appVer": "4.0.1",
                        "content": "医陪伴V4.0.1更新：\n优化交互，修复已知问题。",
                        "createTime": 1595406010000,
                        "isForce": false,
                        "platForm": 1,
                        "remark": "",
                        "state": true,
                        "strategy": 0,
                        "token": "b32b3a72b3f74b9da8ce686400b21230",
                        "updateTime": 1595406010000,
                        "uptUrl": "https://apps.apple.com/cn/app/id1458601909",
                        "verId": 42
                    },
                    {
                        "@type": "com.qjf.epeiban.dao.entity.version.Version",
                        "appVer": "4.0.0",
                        "content": "医陪伴V4.0.0更新：\n1.优化部分交互。\n2.架构重构。",
                        "createTime": 1593591908000,
                        "isForce": false,
                        "platForm": 1,
                        "remark": "",
                        "state": true,
                        "strategy": 0,
                        "token": "723ebbf9f54348ef80260cbf698bb3d5",
                        "updateTime": 1593591908000,
                        "uptUrl": "https://apps.apple.com/cn/app/id1458601909",
                        "verId": 40
                    }
                ]
            },
            {
                "nodetype": "Hash",
                "nodeoperation": "Add",
                "name": "epeiban:app:version",
                "key":"android",
                "value":[
                    {
                        "@type": "com.qjf.epeiban.dao.entity.version.Version",
                        "appVer": "4.0.1",
                        "content": "医陪伴V4.0.1更新：\n优化交互，修复已知问题。",
                        "createTime": 1595406010000,
                        "isForce": false,
                        "platForm": 2,
                        "remark": "",
                        "state": true,
                        "strategy": 0,
                        "token": "b32b3a72b3f74b9da8ce686400b21230",
                        "updateTime": 1595406010000,
                        "uptUrl": "https://i.peiban85.com/accompanying/default/apk/accompany-100.apk",
                        "verId": 43
                    },
                    {
                        "@type": "com.qjf.epeiban.dao.entity.version.Version",
                        "appVer": "4.0.0",
                        "content": "医陪伴V4.0.0更新：\n1.优化部分交互。\n2.架构重构。",
                        "createTime": 1593591908000,
                        "isForce": false,
                        "platForm": 2,
                        "remark": "",
                        "state": true,
                        "strategy": 0,
                        "token": "723ebbf9f54348ef80260cbf698bb3d5",
                        "updateTime": 1593591908000,
                        "uptUrl": "https://i.peiban85.com/accompanying/default/apk/accompany-100.apk",
                        "verId": 41
                    }
                ]
            }
        ]
    },
    "env_version_case2": {
        "redis": [
            {
                "nodetype": "Hash",
                "nodeoperation": "Delete",
                "name": "epeiban:app:version",
                "key":"ios"
            },
            {
                "nodetype": "Hash",
                "nodeoperation": "Delete",
                "name": "epeiban:app:version",
                "key":"android"
            },
            {
                "nodetype": "Hash",
                "nodeoperation": "Add",
                "name": "epeiban:app:version",
                "key":"ios",
                "value":[
                    {
                        "@type": "com.qjf.epeiban.dao.entity.version.Version",
                        "appVer": "4.0.1",
                        "content": "医陪伴V4.0.1更新：\n优化交互，修复已知问题。",
                        "createTime": 1595406010000,
                        "isForce": false,
                        "platForm": 1,
                        "remark": "",
                        "state": true,
                        "strategy": 1,
                        "token": "b32b3a72b3f74b9da8ce686400b21230",
                        "updateTime": 1595406010000,
                        "uptUrl": "https://apps.apple.com/cn/app/id1458601909",
                        "verId": 42
                    },
                    {
                        "@type": "com.qjf.epeiban.dao.entity.version.Version",
                        "appVer": "4.0.0",
                        "content": "医陪伴V4.0.0更新：\n1.优化部分交互。\n2.架构重构。",
                        "createTime": 1593591908000,
                        "isForce": false,
                        "platForm": 1,
                        "remark": "",
                        "state": true,
                        "strategy": 1,
                        "token": "723ebbf9f54348ef80260cbf698bb3d5",
                        "updateTime": 1593591908000,
                        "uptUrl": "https://apps.apple.com/cn/app/id1458601909",
                        "verId": 40
                    }
                ]
            },
            {
                "nodetype": "Hash",
                "nodeoperation": "Add",
                "name": "epeiban:app:version",
                "key":"android",
                "value":[
                    {
                        "@type": "com.qjf.epeiban.dao.entity.version.Version",
                        "appVer": "4.0.1",
                        "content": "医陪伴V4.0.1更新：\n优化交互，修复已知问题。",
                        "createTime": 1595406010000,
                        "isForce": false,
                        "platForm": 2,
                        "remark": "",
                        "state": true,
                        "strategy": 1,
                        "token": "b32b3a72b3f74b9da8ce686400b21230",
                        "updateTime": 1595406010000,
                        "uptUrl": "https://i.peiban85.com/accompanying/default/apk/accompany-100.apk",
                        "verId": 43
                    },
                    {
                        "@type": "com.qjf.epeiban.dao.entity.version.Version",
                        "appVer": "4.0.0",
                        "content": "医陪伴V4.0.0更新：\n1.优化部分交互。\n2.架构重构。",
                        "createTime": 1593591908000,
                        "isForce": false,
                        "platForm": 2,
                        "remark": "",
                        "state": true,
                        "strategy": 1,
                        "token": "723ebbf9f54348ef80260cbf698bb3d5",
                        "updateTime": 1593591908000,
                        "uptUrl": "https://i.peiban85.com/accompanying/default/apk/accompany-100.apk",
                        "verId": 41
                    }
                ]
            }
        ]
    },
    "env_version_case3": {
        "redis": [
            {
                "nodetype": "Hash",
                "nodeoperation": "Delete",
                "name": "epeiban:app:version",
                "key":"ios"
            },
            {
                "nodetype": "Hash",
                "nodeoperation": "Delete",
                "name": "epeiban:app:version",
                "key":"android"
            },
            {
                "nodetype": "Hash",
                "nodeoperation": "Add",
                "name": "epeiban:app:version",
                "key":"ios",
                "value":[
                    {
                        "@type": "com.qjf.epeiban.dao.entity.version.Version",
                        "appVer": "4.0.1",
                        "content": "医陪伴V4.0.1更新：\n优化交互，修复已知问题。",
                        "createTime": 1595406010000,
                        "isForce": true,
                        "platForm": 1,
                        "remark": "",
                        "state": true,
                        "strategy": 2,
                        "token": "b32b3a72b3f74b9da8ce686400b21230",
                        "updateTime": 1595406010000,
                        "uptUrl": "https://apps.apple.com/cn/app/id1458601909",
                        "verId": 42
                    },
                    {
                        "@type": "com.qjf.epeiban.dao.entity.version.Version",
                        "appVer": "4.0.0",
                        "content": "医陪伴V4.0.0更新：\n1.优化部分交互。\n2.架构重构。",
                        "createTime": 1593591908000,
                        "isForce": true,
                        "platForm": 1,
                        "remark": "",
                        "state": true,
                        "strategy": 2,
                        "token": "723ebbf9f54348ef80260cbf698bb3d5",
                        "updateTime": 1593591908000,
                        "uptUrl": "https://apps.apple.com/cn/app/id1458601909",
                        "verId": 40
                    }
                ]
            },
            {
                "nodetype": "Hash",
                "nodeoperation": "Add",
                "name": "epeiban:app:version",
                "key":"android",
                "value":[
                    {
                        "@type": "com.qjf.epeiban.dao.entity.version.Version",
                        "appVer": "4.0.1",
                        "content": "医陪伴V4.0.1更新：\n优化交互，修复已知问题。",
                        "createTime": 1595406010000,
                        "isForce": true,
                        "platForm": 2,
                        "remark": "",
                        "state": true,
                        "strategy": 2,
                        "token": "b32b3a72b3f74b9da8ce686400b21230",
                        "updateTime": 1595406010000,
                        "uptUrl": "https://i.peiban85.com/accompanying/default/apk/accompany-100.apk",
                        "verId": 43
                    },
                    {
                        "@type": "com.qjf.epeiban.dao.entity.version.Version",
                        "appVer": "4.0.0",
                        "content": "医陪伴V4.0.0更新：\n1.优化部分交互。\n2.架构重构。",
                        "createTime": 1593591908000,
                        "isForce": true,
                        "platForm": 2,
                        "remark": "",
                        "state": true,
                        "strategy": 2,
                        "token": "723ebbf9f54348ef80260cbf698bb3d5",
                        "updateTime": 1593591908000,
                        "uptUrl": "https://i.peiban85.com/accompanying/default/apk/accompany-100.apk",
                        "verId": 41
                    }
                ]
            }
        ]
    },
    "env_versioncheck_case1": {
        "redis": [
            {
                "nodetype": "Hash",
                "nodeoperation": "Delete",
                "name": "epeiban:app:version",
                "key":"ios"
            },
            {
                "nodetype": "Hash",
                "nodeoperation": "Delete",
                "name": "epeiban:app:version",
                "key":"android"
            },
            {
                "nodetype": "Hash",
                "nodeoperation": "Add",
                "name": "epeiban:app:version",
                "key":"ios",
                "value":[
                    {
                        "@type": "com.qjf.epeiban.dao.entity.version.Version",
                        "appVer": "4.0.1",
                        "content": "医陪伴V4.0.1更新：\n优化交互，修复已知问题。",
                        "createTime": 1595406010000,
                        "isForce": false,
                        "platForm": 1,
                        "remark": "",
                        "state": true,
                        "strategy": 0,
                        "token": "b32b3a72b3f74b9da8ce686400b21230",
                        "updateTime": 1595406010000,
                        "uptUrl": "https://apps.apple.com/cn/app/id1458601909",
                        "verId": 42
                    },
                    {
                        "@type": "com.qjf.epeiban.dao.entity.version.Version",
                        "appVer": "4.0.0",
                        "content": "医陪伴V4.0.0更新：\n1.优化部分交互。\n2.架构重构。",
                        "createTime": 1593591908000,
                        "isForce": false,
                        "platForm": 1,
                        "remark": "",
                        "state": true,
                        "strategy": 0,
                        "token": "723ebbf9f54348ef80260cbf698bb3d5",
                        "updateTime": 1593591908000,
                        "uptUrl": "https://apps.apple.com/cn/app/id1458601909",
                        "verId": 40
                    }
                ]
            },
            {
                "nodetype": "Hash",
                "nodeoperation": "Add",
                "name": "epeiban:app:version",
                "key":"android",
                "value":[
                    {
                        "@type": "com.qjf.epeiban.dao.entity.version.Version",
                        "appVer": "4.0.1",
                        "content": "医陪伴V4.0.1更新：\n优化交互，修复已知问题。",
                        "createTime": 1595406010000,
                        "isForce": false,
                        "platForm": 2,
                        "remark": "",
                        "state": true,
                        "strategy": 0,
                        "token": "b32b3a72b3f74b9da8ce686400b21230",
                        "updateTime": 1595406010000,
                        "uptUrl": "https://i.peiban85.com/accompanying/default/apk/accompany-100.apk",
                        "verId": 43
                    },
                    {
                        "@type": "com.qjf.epeiban.dao.entity.version.Version",
                        "appVer": "4.0.0",
                        "content": "医陪伴V4.0.0更新：\n1.优化部分交互。\n2.架构重构。",
                        "createTime": 1593591908000,
                        "isForce": false,
                        "platForm": 2,
                        "remark": "",
                        "state": true,
                        "strategy": 0,
                        "token": "723ebbf9f54348ef80260cbf698bb3d5",
                        "updateTime": 1593591908000,
                        "uptUrl": "https://i.peiban85.com/accompanying/default/apk/accompany-100.apk",
                        "verId": 41
                    }
                ]
            }
        ]
    },
    "env_hospitalschedule_case3":{
        "sql":[
            "update hospital  set am_total = 1 where name = '测试中医馆' and phone = '11400010000'"
        ]
    },
    "env_hospitalschedule_case4":{
        "sql":[
            "update hospital  set am_total = 0 where name = '测试中医馆' and phone = '11400010000'"
        ]
    },
    "env_hospitalschedule_case5":{
        "sql":[
            "update hospital  set am_total =0 where name = '测试中医馆' and phone = '11400010000'",
            "update hospital_schedule set schedule_date = date_sub(schedule_date,interval 400 day)"
        ]
    },
    "env_fulldate_case1":{
        "sql":[
            "update hospital  set am_total = 0,pm_total = 0 where name = '测试中医馆' and phone = '11400010000'"
        ]
    },
    "env_fulldate_case2":{
        "sql":[
            "update hospital  set am_total = 1,pm_total = 1 where name = '测试中医馆' and phone = '11400010000'"
        ]
    },
    "env_orderdiscount_001":{
        "sql":[
            "DELETE from order_line where order_id in (SELECT order_id from `order`  where order_type = 9)",
            "DELETE from `order` where order_type = 9"
        ]
    },
    "env_balance_case1":{
        "sql":[
            "update account set freeze_money_in=0,freeze_money_out=0 where user_id =(SELECT id from accompanying_identity.aspnetusers where PhoneNumber ='11400010020')"
        ]
    },
    "env_balance_case2":{
        "sql":[
            "update account set freeze_money_in=100,freeze_money_out=100 where user_id =(SELECT id from accompanying_identity.aspnetusers where PhoneNumber ='11400010020')"
        ]
    },
    "env_balance_case3":{
        "sql":[
            "update account set freeze_money_in=100,freeze_money_out=0 where user_id =(SELECT id from accompanying_identity.aspnetusers where PhoneNumber ='11400010020')"
        ]
    },
    "env_balance_case4":{
        "sql":[
            "update account set freeze_money_in=110,freeze_money_out=10 where user_id =(SELECT id from accompanying_identity.aspnetusers where PhoneNumber ='11400010020')"
        ]
    },
    "env_balance_case5":{
        "sql":[
            "update account set money_in=0,money_out=0 where user_id =(SELECT id from accompanying_identity.aspnetusers where PhoneNumber ='11400010020')"
        ]
    },
    "env_balance_case6":{
        "sql":[
            "update account set money_in=100,money_out=100 where user_id =(SELECT id from accompanying_identity.aspnetusers where PhoneNumber ='11400010020')"
        ]
    },
    "env_balance_case7":{
        "sql":[
            "update account set money_in=101,money_out=0 where user_id =(SELECT id from accompanying_identity.aspnetusers where PhoneNumber ='11400010020')"
        ]
    },
    "env_balance_case8":{
        "sql":[
            "update account set money_in=111,money_out=10 where user_id =(SELECT id from accompanying_identity.aspnetusers where PhoneNumber ='11400010020')"
        ]
    },
    "env_useraccount_case1":{
        "sql":[
            "update account set money_in=0,money_out=0 where user_id =(SELECT id from accompanying_identity.aspnetusers where PhoneNumber ='11400010020')"
        ]
    },
    "env_useraccount_case2":{
        "sql":[
            "update account set money_in=100,money_out=100 where user_id =(SELECT id from accompanying_identity.aspnetusers where PhoneNumber ='11400010020')"
        ]
    },
    "env_useraccount_case3":{
        "sql":[
            "update account set money_in=100,money_out=0 where user_id =(SELECT id from accompanying_identity.aspnetusers where PhoneNumber ='11400010020')"
        ]
    },
    "env_useraccount_case4":{
        "sql":[
            "update account set money_in=110,money_out=10 where user_id =(SELECT id from accompanying_identity.aspnetusers where PhoneNumber ='11400010020')"
        ]
    },
    "env_withdraw_case1":{
        "sql":[
            "update account set money_in=1000,money_out=0 where user_id =(SELECT id from accompanying_identity.aspnetusers where PhoneNumber ='11400010017')"
        ],
        "api":[
            {
                "url":"url_app",
                "api":"/api/v{version}/SMS/Send",
                "header":{
                    "Content-Type":"application/json",
                    "Authorization":"rely_17.Authorization"
                },
                "payload":{
                    "verificationCodeType": "Withdraw",
                    "phone":"11400010017"
                },
                "method":"POST",
                "set_rely":{
                    "fromdata":"verify_token",
                    "todata":"rely_17.password"
                }
            }
        ]
    },
    "env_withdraw_case2":{
        "sql":[
            "update account set money_in=100,money_out=100 where user_id =(SELECT id from accompanying_identity.aspnetusers where PhoneNumber ='11400010017')"
        ],
        "api":[
            {
                "url":"url_app",
                "api":"/api/v{version}/SMS/Send",
                "header":{
                    "Content-Type":"application/json",
                    "Authorization":"rely_17.Authorization"
                },
                "payload":{
                    "verificationCodeType": "Withdraw",
                    "phone":"11400010017"
                },
                "method":"POST",
                "set_rely":{
                    "fromdata":"verify_token",
                    "todata":"rely_17.password"
                }
            }
        ]
    },
    "env_withdraw_case3":{
        "sql":[
            "update account set money_in=110,money_out=10 where user_id =(SELECT id from accompanying_identity.aspnetusers where PhoneNumber ='11400010017')"
        ],
        "api":[
            {
                "url":"url_app",
                "api":"/api/v{version}/SMS/Send",
                "header":{
                    "Content-Type":"application/json",
                    "Authorization":"rely_17.Authorization"
                },
                "payload":{
                    "verificationCodeType": "Withdraw",
                    "phone":"11400010017"
                },
                "method":"POST",
                "set_rely":{
                    "fromdata":"verify_token",
                    "todata":"rely_17.password"
                }
            }
        ]
    },
    "env_jiguangtoken_case1":{
        "sql":[
            "DELETE a from accompanying_identity.jiguang a join accompanying_identity.aspnetusers b on a.user_id = b.id where b.PhoneNumber='11400010017'"
        ]
    },
    "env_invitationmy_case1":{
        "sql":[
            "INSERT INTO `accompanying_identity`.`invitation`(`user_id`, `name`, `avatar`, `referrer_id`, `unionid`, `state`, `create_time`, `activity_code`) select '2a798542-ceac-4a95-b7b3-4a04fb2848d6', '居士', 'accompanying/user/dcd2b9afc4d64a00bf49b9143b2ed981.png', id, 'oSFDZw0ROgXKvGt_0uYHbIWXddKY', 2, '2019-07-16 21:41:41', 'HD_1PLUS1_001'from accompanying_identity.aspnetusers where PhoneNumber ='11400010017';",
            "INSERT INTO `accompanying_identity`.`invitation`(`user_id`, `name`, `avatar`, `referrer_id`, `unionid`, `state`, `create_time`, `activity_code`) select 'e4281769-e096-4c47-82fa-bdc03b0e0d61', 'Alex管', 'http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKHYfCfSTjOpk5q4Lc9TORndUIU4M9eaUvJt016oAqQab7wQgrJB0gbciaowYb3HmDdD22b8WgsdeQ/132', id, 'oSFDZw1SOFtrLhlgHtgofR1yBuXA', 1, '2019-07-21 07:59:28', 'HD_1PLUS1_001' from accompanying_identity.aspnetusers where PhoneNumber ='11400010017';",
            "INSERT INTO `accompanying_identity`.`invitation`(`user_id`, `name`, `avatar`, `referrer_id`, `unionid`, `state`, `create_time`, `activity_code`) select '', 'bruke', 'http://thirdwx.qlogo.cn/mmopen/vi_32/wBXH6t3MpTw69Oj03Ria26Kic0rkJyqSrRau3d4moq32g4eL2AXxXCma8wI2axC0tKoV70HYMF0iaibicIbzgh5z7Hw/132', id, 'oSFDZwztW8n0TxT7-Si5JKLSdvAk', 0, '2019-07-16 21:38:11', 'HD_1PLUS1_001' from accompanying_identity.aspnetusers where PhoneNumber ='11400010017';"
        ]
    }
}




